# 要件定義書（Requirements Specification）

**ドキュメントID:** WUI-REQ-001
**プロジェクト名:** WebUI サンプルシステム
**バージョン:** 1.0.0
**作成日:** 2026-02-25
**最終更新日:** 2026-02-25
**ステータス:** Draft
**承認者:** -

---

## 1. 目的・スコープ

### 1.1 目的

本書は、WebUIサンプルシステム（以下「本システム」）の要件を明確に定義し、開発・テスト・受け入れの基準を確立することを目的とする。

### 1.2 スコープ

本書は以下のスコープを対象とする。

- フロントエンドWebアプリケーション（ブラウザベース）
- バックエンドREST API連携
- ユーザー認証・認可機能
- データの表示・編集・検索機能
- 管理者機能

### 1.3 対象外

- モバイルネイティブアプリケーション
- バックエンドサーバー内部実装（API仕様のみ定義）
- データウェアハウス・BI連携

---

## 2. システム概要

### 2.1 システム目的

本システムは、エンタープライズ向け業務管理WebUIのサンプル実装として、以下の目的を持つ。

- 業務データの効率的な閲覧・編集
- マルチユーザーによる共同作業の支援
- 管理者によるシステム設定・ユーザー管理

### 2.2 システム全体構成図

```
[ユーザー（ブラウザ）]
        │
        ▼
[WebUI フロントエンド] ←→ [CDN / 静的ホスティング]
        │
        ▼
[REST API サーバー]
        │
        ▼
[データベース（RDB/NoSQL）]
        │
        ▼
[外部サービス連携（OAuth, メール等）]
```

### 2.3 ユーザー種別

| ユーザー種別 | 説明 | 権限レベル |
|------------|------|----------|
| システム管理者 | システム全体の管理・設定 | 最高権限 |
| 業務管理者 | 業務データの管理・ユーザー管理 | 高権限 |
| 一般ユーザー | 通常業務の閲覧・編集 | 標準権限 |
| 閲覧専用ユーザー | データの参照のみ可能 | 読み取り権限 |

---

## 3. 機能要件（Functional Requirements）

### 3.1 認証・認可機能

| ID | 要件名 | 詳細 | 優先度 |
|----|-------|------|--------|
| FR-AUTH-001 | ログイン | メールアドレス+パスワードによるログイン | 必須 |
| FR-AUTH-002 | ソーシャルログイン | Google OAuth2.0によるログイン | 推奨 |
| FR-AUTH-003 | 二要素認証 | TOTPベースの二要素認証 | 推奨 |
| FR-AUTH-004 | ログアウト | セッション破棄・トークン無効化 | 必須 |
| FR-AUTH-005 | パスワードリセット | メールによるパスワード再設定 | 必須 |
| FR-AUTH-006 | セッション管理 | セッションタイムアウト・自動延長 | 必須 |
| FR-AUTH-007 | ロールベースアクセス制御 | ユーザーロールによる機能制限 | 必須 |

### 3.2 ダッシュボード機能

| ID | 要件名 | 詳細 | 優先度 |
|----|-------|------|--------|
| FR-DASH-001 | KPIウィジェット表示 | 主要指標の数値表示 | 必須 |
| FR-DASH-002 | グラフ・チャート表示 | 折れ線・棒・円グラフの表示 | 必須 |
| FR-DASH-003 | 最近のアクティビティ | 直近の操作履歴表示 | 推奨 |
| FR-DASH-004 | ダッシュボードカスタマイズ | ウィジェットの追加・削除・並び替え | 任意 |
| FR-DASH-005 | リアルタイム更新 | WebSocket/ポーリングによる自動更新 | 推奨 |

### 3.3 データ管理機能

| ID | 要件名 | 詳細 | 優先度 |
|----|-------|------|--------|
| FR-DATA-001 | データ一覧表示 | テーブル形式でのデータ表示 | 必須 |
| FR-DATA-002 | データ検索 | 全文検索・フィルタリング | 必須 |
| FR-DATA-003 | データソート | カラムによる昇順・降順ソート | 必須 |
| FR-DATA-004 | ページネーション | データの分割表示 | 必須 |
| FR-DATA-005 | データ新規作成 | フォームによる新規データ作成 | 必須 |
| FR-DATA-006 | データ編集 | 既存データの編集 | 必須 |
| FR-DATA-007 | データ削除 | 単件・一括削除（確認ダイアログ付き） | 必須 |
| FR-DATA-008 | データエクスポート | CSV/Excel/PDFエクスポート | 推奨 |
| FR-DATA-009 | データインポート | CSV/Excelファイルのインポート | 推奨 |
| FR-DATA-010 | 一括操作 | 複数データの一括編集・削除 | 推奨 |

### 3.4 通知・メッセージ機能

| ID | 要件名 | 詳細 | 優先度 |
|----|-------|------|--------|
| FR-NOTIF-001 | インアプリ通知 | 画面内通知（ベル型アイコン） | 必須 |
| FR-NOTIF-002 | トースト通知 | 操作結果のポップアップ表示 | 必須 |
| FR-NOTIF-003 | メール通知 | 重要イベントのメール送信 | 推奨 |
| FR-NOTIF-004 | 通知既読管理 | 通知の既読・未読管理 | 推奨 |

### 3.5 設定・管理機能

| ID | 要件名 | 詳細 | 優先度 |
|----|-------|------|--------|
| FR-CONF-001 | ユーザープロフィール編集 | 氏名・メールアドレス・アバター変更 | 必須 |
| FR-CONF-002 | パスワード変更 | 現パスワード確認後の変更 | 必須 |
| FR-CONF-003 | 表示設定 | テーマ（ライト/ダーク）・言語・タイムゾーン | 推奨 |
| FR-CONF-004 | ユーザー管理（管理者） | ユーザーの追加・編集・削除・ロール変更 | 必須 |
| FR-CONF-005 | システムログ | 操作ログの閲覧・エクスポート | 推奨 |

---

## 4. 非機能要件（Non-Functional Requirements）

### 4.1 パフォーマンス要件

| ID | 指標 | 目標値 | 計測方法 |
|----|------|--------|---------|
| NFR-PERF-001 | 初回ページロード時間 | 3秒以内（LCP） | Lighthouse |
| NFR-PERF-002 | API応答時間 | 95パーセンタイルで500ms以内 | APMツール |
| NFR-PERF-003 | 画面遷移時間 | 200ms以内 | User Timing API |
| NFR-PERF-004 | 同時接続ユーザー数 | 500ユーザー以上 | 負荷テスト |
| NFR-PERF-005 | Core Web Vitals | LCP < 2.5s, FID < 100ms, CLS < 0.1 | Google PageSpeed |

### 4.2 可用性要件

| ID | 指標 | 目標値 |
|----|------|--------|
| NFR-AVAIL-001 | システム稼働率 | 99.9%以上（月次） |
| NFR-AVAIL-002 | 計画メンテナンス時間 | 月次4時間以内（深夜帯） |
| NFR-AVAIL-003 | 障害復旧時間（RTO） | 2時間以内 |
| NFR-AVAIL-004 | データ復旧ポイント（RPO） | 1時間以内 |

### 4.3 セキュリティ要件

| ID | 要件 | 詳細 |
|----|------|------|
| NFR-SEC-001 | 通信暗号化 | HTTPS（TLS 1.2以上）必須 |
| NFR-SEC-002 | 認証トークン | JWT（有効期限1時間）＋リフレッシュトークン |
| NFR-SEC-003 | CSRF対策 | CSRFトークンの実装 |
| NFR-SEC-004 | XSS対策 | 入力値のサニタイズ・Content Security Policy |
| NFR-SEC-005 | SQLインジェクション対策 | パラメータ化クエリ必須 |
| NFR-SEC-006 | パスワードポリシー | 8文字以上・大小英数字混合 |
| NFR-SEC-007 | ログイン試行制限 | 5回失敗でアカウントロック（30分） |
| NFR-SEC-008 | セキュリティヘッダー | HSTS, X-Frame-Options, X-Content-Type-Options |

### 4.4 ユーザビリティ要件

| ID | 要件 | 詳細 |
|----|------|------|
| NFR-UX-001 | アクセシビリティ | WCAG 2.1 AA準拠 |
| NFR-UX-002 | レスポンシブデザイン | PC・タブレット・スマートフォン対応 |
| NFR-UX-003 | ブラウザ対応 | Chrome, Firefox, Safari, Edge（最新2バージョン） |
| NFR-UX-004 | 操作フィードバック | すべての操作に対して視覚的フィードバック |
| NFR-UX-005 | ローディング表示 | 1秒以上かかる処理はプログレス表示 |

### 4.5 保守性要件

| ID | 要件 | 詳細 |
|----|------|------|
| NFR-MAINT-001 | コードカバレッジ | ユニットテスト 80%以上 |
| NFR-MAINT-002 | ドキュメント | すべての公開APIにJSDoc/OpenAPI記述 |
| NFR-MAINT-003 | ログ出力 | 構造化ログ（JSON形式）の出力 |
| NFR-MAINT-004 | 設定の外部化 | 環境変数による設定管理 |

### 4.6 拡張性要件

| ID | 要件 | 詳細 |
|----|------|------|
| NFR-EXT-001 | モジュール構成 | 機能単位でのモジュール分割 |
| NFR-EXT-002 | プラグイン対応 | 機能追加がコア変更不要で可能 |
| NFR-EXT-003 | 多言語対応 | i18nフレームワークによる国際化対応 |

---

## 5. 制約条件

### 5.1 技術的制約

- フロントエンドフレームワーク: React 18以上
- 状態管理: Zustand または Redux Toolkit
- UIコンポーネントライブラリ: shadcn/ui または MUI
- ビルドツール: Vite
- TypeScript必須

### 5.2 外部依存

- 認証基盤: Auth0 または Keycloak
- APIサーバー: RESTful API（OpenAPI 3.0準拠）
- CDN: CloudFront または Cloudflare

### 5.3 規制・コンプライアンス

- 個人情報保護法（日本）準拠
- GDPR（欧州ユーザーが存在する場合）準拠

---

## 6. 受け入れ基準

### 6.1 機能受け入れ基準

各機能要件について以下の条件を満たすこと。

- すべての必須要件（優先度：必須）が実装・動作確認済みであること
- ユーザー受け入れテスト（UAT）で合格基準を満たすこと
- 重大バグ（Priority 1）が0件であること

### 6.2 品質受け入れ基準

- パフォーマンス要件をすべて満たすこと
- セキュリティ脆弱性スキャンで高・重大リスクが0件であること
- アクセシビリティ自動チェックで違反が0件であること

---

## 7. 改訂履歴

| バージョン | 日付 | 変更内容 | 担当者 |
|-----------|------|---------|--------|
| 1.0.0 | 2026-02-25 | 初版作成 | システム管理者 |
