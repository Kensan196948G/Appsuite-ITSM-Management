# システム運用手順書（System Operations Manual）
**プロジェクト**: Appsuite専用運用管理システム  
**作成日**: 2026-02-25  

## 1. 日次運用タスク
| タスク | 実施時間 | 担当 | 確認方法 |
|-------|---------|------|---------|
| サービス稼働確認 | 09:00 | 運用担当 | URLアクセス確認 |
| エラーログ確認 | 09:00 | 運用担当 | Nginxエラーログ |
| バックアップ確認 | 09:00 | 運用担当 | バックアップスクリプト実行 |
| 未解決インシデント確認 | 09:30 | 運用担当 | 管理画面 |

## 2. 週次運用タスク
| タスク | 実施日 | 担当 |
|-------|-------|------|
| ユーザーアクティビティレビュー | 毎週月曜 | 管理者 |
| 監査ログレビュー | 毎週月曜 | セキュリティ担当 |
| パフォーマンス確認 | 毎週金曜 | 運用担当 |
| SSL証明書有効期限確認 | 毎週金曜 | 運用担当 |

## 3. 障害対応手順

### 3.1 障害検知時の対応
1. **初動対応**（15分以内）
   - 障害内容の確認（スクリーンショット取得）
   - 影響範囲の特定
   - 上位者への報告

2. **原因調査**（1時間以内）
   - Nginxアクセスログ・エラーログ確認
   - ブラウザコンソールエラー確認
   - DeskNet's Neo API稼働確認

3. **復旧作業**
   - 原因に応じた対処（再起動/ロールバック/設定変更）
   - 復旧確認テスト実施

4. **事後対応**
   - インシデントレポート作成
   - 再発防止策の検討・実施

## 4. バックアップ・リストア
### 4.1 バックアップ対象
- 設定ファイル（Nginx設定、SSL証明書）
- アプリケーションファイル（/var/www/appsuite/）

### 4.2 バックアップスクリプト
```bash
#!/bin/bash
BACKUP_DIR="/backup/appsuite"
DATE=$(date +%Y%m%d)
mkdir -p $BACKUP_DIR/$DATE
cp -r /var/www/appsuite $BACKUP_DIR/$DATE/
cp -r /etc/nginx/sites-available/appsuite $BACKUP_DIR/$DATE/
# 7日以上前のバックアップを削除
find $BACKUP_DIR -maxdepth 1 -mtime +7 -exec rm -rf {} \;
```

## 5. 定期メンテナンス手順
### 5.1 月次メンテナンス（毎月第1日曜 02:00-04:00）
1. メンテナンス告知（1週間前）
2. バックアップ実施
3. OS・パッケージ更新（`apt update && apt upgrade`）
4. Nginx設定確認・最適化
5. SSL証明書更新確認
6. 動作確認後、メンテナンス完了告知
