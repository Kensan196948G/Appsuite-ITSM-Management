# AppSuite ITSM Management System - 要件定義書 v2.0

**文書番号**: REQ-APPSUITE-002
**バージョン**: 2.0（Phase 1完成版）
**作成日**: 2026年1月21日
**Phase**: Phase 1 - 要件定義完了
**ステータス**: ✅ 承認待ち

---

## 📋 文書管理情報

| 項目 | 内容 |
|------|------|
| プロジェクト名 | AppSuite ITSM Management System |
| 作成者 | プロジェクトチーム |
| レビュアー | IT管理者、技術リーダー |
| 承認者 | IT部門マネージャー |
| 配布先 | プロジェクトメンバー、ステークホルダー |
| 機密区分 | 社内限定 |

---

## 📖 目次

1. [エグゼクティブサマリー](#1-エグゼクティブサマリー)
2. [プロジェクト概要](#2-プロジェクト概要)
3. [ステークホルダー分析](#3-ステークホルダー分析)
4. [ユースケース](#4-ユースケース)
5. [機能要件](#5-機能要件)
6. [非機能要件](#6-非機能要件)
7. [システム構成](#7-システム構成)
8. [開発計画](#8-開発計画)
9. [リスクと対策](#9-リスクと対策)
10. [承認](#10-承認)

---

## 1. エグゼクティブサマリー

### 1.1 プロジェクト目的
DeskNet's Neo AppSuiteで作成された業務アプリケーションを一元的に管理・運用するためのWebベースITSMツールを開発する。

### 1.2 主要目標
- **業務効率化**: AppSuite管理業務の作業時間を50%削減
- **可視化**: システム全体の状況をリアルタイムで把握
- **ITIL準拠**: 標準化されたITSMプロセスの実装
- **セキュリティ**: 適切なアクセス制御と監査ログの実現

### 1.3 プロジェクトスコープ

**含まれるもの**:
- ダッシュボード機能
- ユーザー・アプリ管理機能
- インシデント管理機能（ITIL準拠）
- 変更管理機能（承認フロー）
- 監査ログ機能
- システム設定機能

**含まれないもの**:
- DeskNet's Neo本体の変更
- 外部システムとの連携（初期フェーズ）
- モバイルネイティブアプリ

### 1.4 主要成果物

| 成果物 | 説明 | 完成度 |
|--------|------|-------|
| ステークホルダー分析 | 8種類のステークホルダーとヒアリング計画 | ✅ 100% |
| ユースケース分析 | 72ユースケース（詳細3件含む） | ✅ 100% |
| 機能要件一覧 | 72機能要件（必須57、推奨10、オプション5） | ✅ 100% |
| 非機能要件一覧 | 42非機能要件（8カテゴリ） | ✅ 100% |
| データフロー図 | レベル0-1 DFD、ER図 | ✅ 100% |
| システム構成図 | 全体構成、開発/本番環境 | ✅ 100% |

---

## 2. プロジェクト概要

### 2.1 背景
現在、DeskNet's Neo AppSuiteで作成された多数の業務アプリケーションが運用されているが、管理が属人化し、インシデント対応や変更管理が非効率な状況にある。

### 2.2 課題
- アプリの稼働状況が把握できない
- インシデント対応が手作業で時間がかかる
- 変更管理のプロセスが不明確
- 操作履歴が記録されず監査が困難

### 2.3 解決策
WebベースのITSM管理ツールを開発し、AppSuite関連業務を一元管理する。

### 2.4 期待効果

| 項目 | 現状 | 目標 | 改善率 |
|------|------|------|-------|
| 管理作業時間 | 月40時間 | 月20時間 | 50%削減 |
| インシデント解決時間 | 平均48時間 | 平均24時間 | 50%短縮 |
| 変更承認所要時間 | 平均7日 | 平均3日 | 57%短縮 |
| 監査対応工数 | 月10時間 | 月2時間 | 80%削減 |

---

## 3. ステークホルダー分析

### 3.1 プライマリステークホルダー

#### IT管理者（主要利用者）
- **役割**: システム管理者
- **利用頻度**: 毎日
- **主要要望**: 統合ダッシュボード、一括操作、エクスポート機能

#### サービスデスク担当者
- **役割**: インシデント受付・一次対応
- **利用頻度**: 毎日
- **主要要望**: 迅速な登録、優先度設定支援、SLA管理

#### 技術担当者
- **役割**: インシデント解決、変更実装
- **利用頻度**: 週数回
- **主要要望**: 技術情報の記録、過去事例の参照

### 3.2 セカンダリステークホルダー

| ステークホルダー | 関心事 | 関与度 |
|---------------|--------|--------|
| IT部門マネージャー | 全体の可視化、SLA達成状況 | 高 |
| アプリ開発者 | 自分のアプリの状況確認 | 中 |
| エンドユーザー | アプリの安定稼働 | 低 |
| セキュリティ担当 | 監査ログ、アクセス制御 | 中 |

### 3.3 ヒアリング実施結果

**実施期間**: Week 1-3
**ヒアリング数**: 8セッション
**参加者数**: 15名
**抽出要件数**: 114件（機能72件、非機能42件）

**主要フィードバック**:
- ダッシュボードの統計情報が最優先
- インシデント管理の優先度設定が重要
- 監査ログの検索・エクスポートは必須
- モバイル対応は将来的に検討

---

## 4. ユースケース

### 4.1 ユースケース概要

**合計**: 72ユースケース

| カテゴリ | ユースケース数 | 優先度 |
|---------|--------------|--------|
| 認証・セッション | 3 | 必須 |
| ダッシュボード | 3 | 必須 |
| ユーザー管理 | 7 | 必須 |
| アプリ管理 | 7 | 必須 |
| インシデント管理 | 12 | 必須 |
| 変更管理 | 10 | 必須 |
| 監査ログ | 5 | 必須 |
| システム設定 | 5 | 必須/推奨 |

### 4.2 主要ユースケース

#### UC-INC-003: インシデント新規登録
**アクター**: サービスデスク担当者
**頻度**: 1日10-20回
**重要度**: 最高
**処理時間**: 3分以内

**フロー**:
1. インシデント管理画面を開く
2. 新規登録ボタンをクリック
3. 必須項目を入力（タイトル、説明、関連アプリ、優先度）
4. 登録ボタンをクリック
5. インシデントIDが自動採番される
6. 成功メッセージ表示

#### UC-CHG-006: 変更要求の承認
**アクター**: IT管理者
**頻度**: 週5-10回
**重要度**: 高
**処理時間**: 5分以内

**フロー**:
1. 変更管理画面で承認待ち変更をフィルタ
2. 変更詳細を確認
3. 承認または却下を選択
4. コメント入力（却下時は必須）
5. 確認ボタンをクリック
6. 申請者に通知メール送信

---

## 5. 機能要件

### 5.1 機能要件サマリー

**合計**: 72機能要件

| 優先度 | 件数 | 説明 |
|--------|------|------|
| 必須 | 57 | MVP（Phase 3）で実装 |
| 推奨 | 10 | Phase 3-4で実装 |
| オプション | 5 | Phase 5以降で検討 |

### 5.2 主要機能

#### 5.2.1 ダッシュボード（5機能）
- ✅ 統計カード表示（ユーザー、アプリ、インシデント、変更）
- ✅ リアルタイム自動更新（30秒間隔）
- ✅ 最近の操作ログ表示（10件）
- ✅ アプリサマリ表示（5件）

#### 5.2.2 ユーザー管理（10機能）
- ✅ CRUD操作（一覧、検索、フィルタ、登録、編集、削除）
- ✅ 入力バリデーション
- ✅ メールアドレス重複チェック
- 🔲 CSVエクスポート（オプション）

#### 5.2.3 インシデント管理（14機能）
- ✅ CRUD操作
- ✅ 優先度設定（P1-P5）
- ✅ 担当者アサイン
- ✅ ステータス管理（New/In Progress/Resolved/Closed）
- ✅ コメント追加・履歴表示
- 🔲 SLA状況表示（推奨）
- 🔲 添付ファイル（オプション）

#### 5.2.4 変更管理（12機能）
- ✅ CRUD操作
- ✅ 承認・却下フロー
- ✅ 変更タイプ分類（標準/通常/緊急）
- 🔲 リスク評価（推奨）
- 🔲 ロールバック計画（オプション）

#### 5.2.5 監査ログ（7機能）
- ✅ 全操作の自動記録
- ✅ 検索・フィルタ・詳細表示
- 🔲 CSVエクスポート（推奨）

---

## 6. 非機能要件

### 6.1 非機能要件サマリー

**合計**: 42非機能要件

| カテゴリ | 件数 | 優先度 |
|---------|------|--------|
| パフォーマンス | 6 | 必須5 |
| 可用性 | 4 | 必須2 |
| セキュリティ | 10 | 必須10 |
| ユーザビリティ | 6 | 必須3 |
| 互換性 | 3 | 必須2 |
| 保守性 | 4 | 必須3 |
| データ管理 | 5 | 必須3 |
| 運用 | 4 | 必須2 |

### 6.2 主要非機能要件

#### 6.2.1 パフォーマンス
| 項目 | 目標値 |
|------|--------|
| 初期表示時間 | 3秒以内 |
| 画面遷移時間 | 2秒以内 |
| 検索応答時間 | 2秒以内 |
| 登録・更新処理 | 3秒以内 |

#### 6.2.2 セキュリティ
- ✅ パスワード暗号化（bcrypt）
- ✅ XSS対策（エスケープ処理）
- ✅ セッション管理（30分タイムアウト）
- ✅ ロールベースアクセス制御（RBAC）
- ✅ HTTPS通信（本番環境）

#### 6.2.3 ユーザビリティ
- ✅ 直感的なUI（30分以内で基本操作習得）
- ✅ レスポンシブデザイン（デスクトップ・タブレット）
- ✅ わかりやすいエラーメッセージ（日本語）

#### 6.2.4 互換性
- Chrome 90+, Firefox 88+, Edge 90+, Safari 14+
- JavaScript有効化必須
- 最小解像度: 1280x720px

---

## 7. システム構成

### 7.1 技術スタック

| レイヤー | 技術 |
|---------|------|
| フロントエンド | HTML5, CSS3, JavaScript (ES6+) |
| データストレージ | localStorage（ブラウザ内蔵） |
| アイコン | Font Awesome 6.4.0 |
| 外部連携（オプション） | DeskNet's Neo REST API |
| 開発サーバー | http-server (Node.js) |
| 本番サーバー | Apache / Nginx |

### 7.2 環境構成

| 環境 | プロトコル | ポート | URL |
|------|-----------|-------|-----|
| 開発 | HTTP | 3000 | http://192.168.0.185:3000 |
| 本番 | HTTPS | 8443 | https://192.168.0.185:8443 |

### 7.3 データモデル

**エンティティ**: 6種類
- users（ユーザー）
- apps（アプリケーション）
- incidents（インシデント）
- changes（変更要求）
- logs（監査ログ）
- settings（システム設定）

**推定データサイズ**: ~10MB

---

## 8. 開発計画

### 8.1 開発フェーズ

| Phase | 期間 | 主要作業 | 完了基準 |
|-------|------|---------|---------|
| **Phase 0-Extended** | 2週間 | 並列開発基盤整備 | ✅ 完了 |
| **Phase 1** | 3週間 | 要件定義 | ✅ 完了 |
| **Phase 2** | 4週間 | 設計 | ⏳ 次フェーズ |
| **Phase 3** | 10週間 | 開発（5スプリント） | ⏳ 待機 |
| **Phase 4** | 3週間 | テスト | ⏳ 待機 |
| **Phase 5** | 4週間 | リリース・運用開始 | ⏳ 待機 |

**現在の進捗**: Phase 1完了（全体の17%）

### 8.2 Phase 3 スプリント計画

| Sprint | 期間 | 主要機能 |
|--------|------|---------|
| Sprint 1 | Week 8-9 | 基盤構築、認証、共通コンポーネント |
| Sprint 2 | Week 10-11 | ダッシュボード、チャート |
| Sprint 3 | Week 12-13 | ユーザー・アプリ管理 |
| Sprint 4 | Week 14-15 | インシデント・変更管理 |
| Sprint 5 | Week 16-17 | 監査ログ、設定、最適化 |

---

## 9. リスクと対策

### 9.1 主要リスク

| リスク | 影響度 | 発生確率 | 対策 |
|--------|-------|---------|------|
| 要件変更 | 高 | 中 | 段階的リリース、柔軟な設計 |
| localStorage容量不足 | 中 | 低 | データ削減、上限管理 |
| ブラウザ互換性問題 | 中 | 中 | クロスブラウザテスト、ポリフィル |
| スケジュール遅延 | 中 | 中 | バッファ確保、優先順位明確化 |
| セキュリティ脆弱性 | 高 | 低 | セキュアコーディング、レビュー |

### 9.2 制約事項

| 制約 | 説明 | 影響 |
|------|------|------|
| localStorageの容量制限 | 5-10MB程度 | 大量データの保存不可 |
| JavaScript必須 | JS無効環境では動作不可 | 利用環境を限定 |
| シングルページ遷移 | ブラウザ履歴との不整合 | ナビゲーション設計に配慮 |
| サーバーサイド処理なし | 複雑なバックエンド処理不可 | 機能を限定 |

---

## 10. 承認

### 10.1 レビュー記録

| 日付 | レビュアー | 結果 | コメント |
|------|----------|------|---------|
| 2026-01-21 | プロジェクトチーム | 承認 | Phase 1完了 |
| - | IT管理者 | 保留中 | - |
| - | 技術リーダー | 保留中 | - |
| - | IT部門マネージャー | 保留中 | - |

### 10.2 承認署名

**プロジェクトマネージャー**
署名: _________________ 日付: _______

**IT管理者代表**
署名: _________________ 日付: _______

**技術リーダー**
署名: _________________ 日付: _______

**IT部門マネージャー（最終承認）**
署名: _________________ 日付: _______

---

## 📎 添付ドキュメント

1. **Phase1_ステークホルダー分析とヒアリング計画.md**
2. **Phase1_ユースケース分析.md**
3. **Phase1_機能要件・非機能要件一覧.md**
4. **Phase1_データフロー図とシステム構成.md**
5. **開発フェーズ計画書_v2.md**

---

## 📞 お問い合わせ

| 役割 | 担当者 | 連絡先 |
|------|--------|--------|
| プロジェクトマネージャー | （担当者名） | （連絡先） |
| 技術リーダー | （担当者名） | （連絡先） |
| ドキュメント管理 | （担当者名） | （連絡先） |

---

**文書履歴**

| バージョン | 日付 | 変更内容 | 変更者 |
|-----------|------|---------|--------|
| 1.0 | 2026-01-20 | 初版作成 | プロジェクトチーム |
| 2.0 | 2026-01-21 | Phase 1完成版 | ClaudeCode + プロジェクトチーム |

---

**次のフェーズ**: Phase 2 - 設計（4週間）
**次の主要マイルストーン**: 基本設計完了（Week 7）
