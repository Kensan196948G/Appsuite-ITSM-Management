# 画面設計書（Screen Design Document）

**ドキュメントID:** WUI-SCR-001
**プロジェクト名:** WebUI サンプルシステム
**バージョン:** 1.0.0
**作成日:** 2026-02-25
**最終更新日:** 2026-02-25
**ステータス:** Draft

---

## 1. 画面一覧

| 画面ID | 画面名 | URL | 認証要否 | 対象ユーザー |
|--------|-------|-----|---------|------------|
| SCR-001 | ログイン画面 | `/login` | 不要 | 全ユーザー |
| SCR-002 | パスワードリセット画面 | `/reset-password` | 不要 | 全ユーザー |
| SCR-003 | ダッシュボード | `/dashboard` | 必要 | 全ユーザー |
| SCR-004 | データ一覧画面 | `/data` | 必要 | 全ユーザー |
| SCR-005 | データ詳細画面 | `/data/:id` | 必要 | 全ユーザー |
| SCR-006 | データ新規作成画面 | `/data/new` | 必要 | 一般以上 |
| SCR-007 | データ編集画面 | `/data/:id/edit` | 必要 | 一般以上 |
| SCR-008 | ユーザー管理画面 | `/admin/users` | 必要 | 管理者以上 |
| SCR-009 | プロフィール設定画面 | `/settings/profile` | 必要 | 全ユーザー |
| SCR-010 | システム設定画面 | `/settings/system` | 必要 | システム管理者 |
| SCR-011 | 通知一覧画面 | `/notifications` | 必要 | 全ユーザー |
| SCR-012 | エラー画面（404） | `/404` | 不要 | 全ユーザー |
| SCR-013 | エラー画面（500） | `/500` | 不要 | 全ユーザー |

---

## 2. 画面遷移図

```
[SCR-001 ログイン]
    │
    ├─[認証成功]──→ [SCR-003 ダッシュボード]
    │                   │
    │                   ├──→ [SCR-004 データ一覧]
    │                   │       ├──→ [SCR-005 詳細]
    │                   │       ├──→ [SCR-006 新規作成]
    │                   │       └──→ [SCR-007 編集]
    │                   │
    │                   ├──→ [SCR-008 ユーザー管理]（管理者のみ）
    │                   │
    │                   ├──→ [SCR-009 プロフィール]
    │                   │
    │                   ├──→ [SCR-010 システム設定]（SA のみ）
    │                   │
    │                   └──→ [SCR-011 通知一覧]
    │
    └─[パスワード忘れ]──→ [SCR-002 パスワードリセット]

[任意の画面] ──→ [SCR-012 404] | [SCR-013 500]
```

---

## 3. 共通レイアウト定義

### 3.1 認証前レイアウト（未ログイン）

```
┌─────────────────────────────────────────┐
│           [ロゴ / システム名]              │
│                                          │
│   ┌──────────────────────────────────┐  │
│   │                                  │  │
│   │         コンテンツエリア          │  │
│   │                                  │  │
│   └──────────────────────────────────┘  │
│                                          │
│         Copyright © 2026 Sample Corp    │
└─────────────────────────────────────────┘
```

### 3.2 認証後レイアウト（ログイン済）

```
┌─────────────────────────────────────────────────────────┐
│ [ロゴ]  [パンくず]              [通知🔔] [ユーザー▼]     │  ← ヘッダー (64px)
├──────────┬──────────────────────────────────────────────┤
│          │                                              │
│  サイド  │                                              │
│  バー    │         メインコンテンツエリア                │
│ (240px)  │                                              │
│          │                                              │
│ [Nav]    │                                              │
│ [Nav]    │                                              │
│ [Nav]    │                                              │
│          │                                              │
├──────────┴──────────────────────────────────────────────┤
│         フッター: バージョン情報 | 利用規約 | お問い合わせ │  ← フッター (48px)
└─────────────────────────────────────────────────────────┘
```

### 3.3 ヘッダー仕様

| 要素 | 位置 | 機能 |
|------|------|------|
| ロゴ | 左端 | クリックでダッシュボードへ遷移 |
| パンくずリスト | ロゴ右 | 現在位置の表示 |
| 通知ベル | 右端左寄り | 未読通知数バッジ、クリックで通知パネル |
| ユーザーアバター | 右端 | ドロップダウン（プロフィール・設定・ログアウト） |

### 3.4 サイドバーナビゲーション

```
┌──────────────────┐
│ 📊 ダッシュボード  │
│ 📋 データ管理     │
│   └ データ一覧   │
│   └ 新規作成     │
│ 👥 ユーザー管理   │  ← 管理者以上のみ表示
│ ⚙️ 設定          │
│   └ プロフィール │
│   └ システム設定  │  ← SA のみ表示
└──────────────────┘
```

---

## 4. 各画面詳細仕様

### 4.1 SCR-001: ログイン画面

**目的:** ユーザー認証を行う

**レイアウト:**
```
┌─────────────────────────────────┐
│           [システムロゴ]          │
│                                  │
│  ┌───────────────────────────┐  │
│  │  メールアドレス             │  │
│  │  [____________________]   │  │
│  │                           │  │
│  │  パスワード                │  │
│  │  [____________________]🔒 │  │
│  │                           │  │
│  │  □ ログイン状態を保持       │  │
│  │                           │  │
│  │  [   ログイン   ]          │  │
│  │                           │  │
│  │  ────────── または ──────── │  │
│  │                           │  │
│  │  [G Googleでログイン]      │  │
│  │                           │  │
│  │  パスワードをお忘れの方はこちら│  │
│  └───────────────────────────┘  │
└─────────────────────────────────┘
```

**フィールド仕様:**

| フィールド | 型 | バリデーション | エラーメッセージ |
|----------|----|-----------|--------------|
| メールアドレス | text/email | 必須・メール形式 | 「有効なメールアドレスを入力してください」 |
| パスワード | password | 必須・8文字以上 | 「パスワードを入力してください」 |

**アクション:**

| アクション | 処理 | 遷移先 |
|----------|------|--------|
| ログインボタン | 認証API呼出し | 成功→ダッシュボード、失敗→エラー表示 |
| Googleログイン | OAuth2フロー | 成功→ダッシュボード |
| パスワード忘れ | リンク | パスワードリセット画面 |

---

### 4.2 SCR-003: ダッシュボード

**目的:** システム全体のKPIと最近のアクティビティを概覧する

**レイアウト:**
```
┌─────────────────────────────────────────────────────────┐
│  ダッシュボード                    [期間選択▼] [更新🔄]    │
├─────────────────────────────────────────────────────────┤
│ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐   │
│ │ 総データ数 │ │ 今日の追加 │ │ 未処理件数 │ │ アクティブ │   │
│ │  1,234   │ │    56    │ │    12   │ │  78%    │   │
│ └──────────┘ └──────────┘ └──────────┘ └──────────┘   │
│                                                          │
│ ┌──────────────────────────┐ ┌─────────────────────┐   │
│ │      月次推移グラフ        │ │    カテゴリ別割合    │   │
│ │    [折れ線グラフ]          │ │     [円グラフ]       │   │
│ └──────────────────────────┘ └─────────────────────┘   │
│                                                          │
│ ┌──────────────────────────────────────────────────┐   │
│ │  最近のアクティビティ                              │   │
│ │  ● [ユーザーA] がデータ#123を編集  2分前          │   │
│ │  ● [ユーザーB] が新規データを作成  15分前         │   │
│ └──────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────┘
```

---

### 4.3 SCR-004: データ一覧画面

**目的:** 登録済みデータの検索・閲覧・管理を行う

**レイアウト:**
```
┌─────────────────────────────────────────────────────────┐
│  データ管理                              [+ 新規作成]      │
├─────────────────────────────────────────────────────────┤
│  [🔍 検索ボックス_______] [ステータス▼] [カテゴリ▼] [絞込] │
├─────────────────────────────────────────────────────────┤
│  □ | ID  | 名前        | ステータス | 更新日     | 操作   │
├─────────────────────────────────────────────────────────┤
│  □ | 001 | サンプルA   | ✅ 有効   | 2026/02/25 | […]   │
│  □ | 002 | サンプルB   | ⏸ 保留   | 2026/02/24 | […]   │
│  □ | 003 | サンプルC   | ❌ 無効   | 2026/02/23 | […]   │
├─────────────────────────────────────────────────────────┤
│  [一括削除] [エクスポート]          [< 1 2 3 ... 10 >]    │
└─────────────────────────────────────────────────────────┘
```

**検索・フィルター仕様:**

| 項目 | 型 | 動作 |
|------|----|----|
| テキスト検索 | text | 入力後 Enter または 300ms デバウンス |
| ステータス | select | 選択即時フィルタ |
| カテゴリ | select | 選択即時フィルタ |
| 日付範囲 | date range | 適用ボタンで反映 |

**テーブル列定義:**

| 列名 | データ型 | ソート | 幅 |
|------|---------|--------|-----|
| チェックボックス | boolean | × | 40px |
| ID | string | ○ | 80px |
| 名前 | string | ○ | flex |
| ステータス | enum | ○ | 100px |
| 更新日 | datetime | ○ | 140px |
| 操作 | - | × | 80px |

---

### 4.4 SCR-005: データ詳細画面

**目的:** 選択したデータの詳細情報を表示する

**レイアウト:**
```
┌─────────────────────────────────────────────────────────┐
│  ← データ一覧  /  データ詳細 #001                          │
│                                       [編集] [削除]       │
├─────────────────────────────────────────────────────────┤
│  ┌─────────────────────────┐  ┌───────────────────────┐ │
│  │  基本情報                │  │  メタ情報              │ │
│  │  ID: 001                │  │  作成日: 2026/01/01    │ │
│  │  名前: サンプルA          │  │  作成者: 管理者        │ │
│  │  説明: ...              │  │  更新日: 2026/02/25    │ │
│  │  ステータス: ✅ 有効      │  │  更新者: ユーザーA     │ │
│  └─────────────────────────┘  └───────────────────────┘ │
│                                                          │
│  ┌──────────────────────────────────────────────────┐   │
│  │  関連データ                                        │   │
│  │  [タブ: 関連A] [タブ: 関連B] [タブ: 履歴]          │   │
│  │  ...                                              │   │
│  └──────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────┘
```

---

### 4.5 SCR-006/007: データ新規作成・編集画面

**目的:** データの登録・更新を行う

**レイアウト:**
```
┌─────────────────────────────────────────────────────────┐
│  ← データ一覧  /  新規作成                                │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  名前 *                                                  │
│  [________________________________________]              │
│                                                          │
│  説明                                                    │
│  [________________________________________]              │
│  [________________________________________]              │
│                                                          │
│  カテゴリ *         ステータス *                           │
│  [選択してください▼]  [有効           ▼]                  │
│                                                          │
│  タグ                                                    │
│  [tag1 ×] [tag2 ×] [+ タグを追加]                        │
│                                                          │
│  添付ファイル                                             │
│  [📎 ファイルを選択またはドラッグ&ドロップ]                 │
│                                                          │
│                    [キャンセル] [  保存  ]                │
└─────────────────────────────────────────────────────────┘
```

**フォームバリデーション:**

| フィールド | 必須 | 最大文字数 | ルール |
|----------|------|----------|-------|
| 名前 | ○ | 100文字 | 英数字・日本語・記号可 |
| 説明 | × | 1000文字 | 自由テキスト |
| カテゴリ | ○ | - | リストから選択 |
| ステータス | ○ | - | リストから選択 |

---

## 5. モーダル・ダイアログ定義

### 5.1 削除確認ダイアログ

```
┌─────────────────────────────────┐
│  ⚠️ 削除の確認                   │
│  この操作は取り消せません。         │
│  「サンプルA」を削除しますか？      │
│                                  │
│         [キャンセル] [削除する]    │
└─────────────────────────────────┘
```

### 5.2 一括操作確認ダイアログ

```
┌─────────────────────────────────┐
│  ⚠️ 一括削除の確認               │
│  選択した 5 件のデータを削除します  │
│  この操作は取り消せません。         │
│                                  │
│         [キャンセル] [削除する]    │
└─────────────────────────────────┘
```

---

## 6. ローディング・空状態定義

### 6.1 ローディング表示

| 状況 | 表示方法 |
|------|---------|
| 全画面ローディング | 中央スピナー + オーバーレイ |
| テーブルローディング | スケルトンスクリーン |
| ボタンローディング | ボタン内スピナー + 無効化 |
| 部分更新 | インラインスピナー |

### 6.2 空状態表示

```
┌─────────────────────────────────┐
│                                  │
│         📭                      │
│                                  │
│      データがありません           │
│  「新規作成」ボタンから追加できます │
│                                  │
│        [+ 新規作成]               │
└─────────────────────────────────┘
```

---

## 7. 改訂履歴

| バージョン | 日付 | 変更内容 | 担当者 |
|-----------|------|---------|--------|
| 1.0.0 | 2026-02-25 | 初版作成 | システム管理者 |
