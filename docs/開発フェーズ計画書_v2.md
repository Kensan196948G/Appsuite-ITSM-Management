# 開発フェーズ計画書 v2.0
## AppSuite ITSM Management System - 更新版開発計画

**最終更新**: 2026年1月21日
**プロジェクト期間**: 26週間（Phase 0-Extended含む）
**開始日**: Phase 0-Extended完了後

---

## 📋 プロジェクト概要

### 目的
DeskNet's Neo AppSuiteで作成された業務アプリケーションを一元管理するWebベースのITSMツールの開発

### 技術スタック
- **フロントエンド**: HTML5, CSS3, JavaScript (Vanilla ES6+)
- **ストレージ**: localStorage
- **外部連携**: DeskNet's Neo REST API
- **開発支援**: ClaudeCode + 全SubAgent機能 + Hooks + MCP
- **バージョン管理**: Git + Git Worktree

---

## 🎯 Phase 0-Extended: 拡張基盤整備 ✅ **完了**

**期間**: 2週間
**ステータス**: ✅ 完了（2026年1月21日）

### 完了した作業

#### 1. 環境構築
- ✅ 開発環境（WebUI-Sample）設定
- ✅ 本番環境（WebUI-Production）設定
- ✅ IPアドレス・ポート番号固定
  - 開発: http://192.168.0.185:3000
  - 本番: https://192.168.0.185:8443
- ✅ SSL自己署名証明書生成
- ✅ ブックマーク設定ガイド作成

#### 2. 全SubAgent機能（7体構成）
- ✅ Bash Agent - Git/CLI操作専門
- ✅ General Agent - 汎用タスク
- ✅ Explore Agent - コードベース探索
- ✅ Plan Agent - 設計・計画
- ✅ Guide Agent - ガイド・ヘルプ
- ✅ Simplifier Agent - リファクタリング
- ✅ Statusline Agent - UI設定

#### 3. 全Hooks機能（並列実行・コンフリクト防止）
- ✅ SessionStart Hook
- ✅ UserPromptSubmit Hook
- ✅ ToolCall Hook
- ✅ ロック機構実装
- ✅ 自動バックアップ機能

#### 4. Git Worktree機能
- ✅ Worktree管理スクリプト（Linux/Windows）
- ✅ 並列開発環境設定
- ✅ ブランチ管理自動化

#### 5. 全MCP機能（8種類）
- ✅ GitHub MCP
- ✅ Brave Search MCP
- ✅ Context7 MCP
- ✅ Playwright MCP
- ✅ Memory MCP
- ✅ Sequential Thinking MCP
- ✅ Claude in Chrome MCP
- ✅ Claude Mem Plugin

#### 6. 自動起動設定
- ✅ systemdサービス（Linux）
- ✅ タスクスケジューラ（Windows）
- ✅ 機器再起動後の自動起動対応

#### 7. ドキュメント整備
- ✅ CLAUDE.md（AI作業ガイド）
- ✅ MCP設定ガイド
- ✅ ブックマーク設定ガイド
- ✅ 環境構築完了チェックリスト
- ✅ 開発フェーズ計画書v2

### 成果物
- 完全な並列開発環境
- 自動化された開発支援ツール群
- 包括的なドキュメント

---

## 🚀 Phase 1: 要件定義

**期間**: 3週間
**担当エージェント**: General Agent + Plan Agent

### Week 1: ステークホルダーヒアリング
- [ ] ユーザーインタビュー実施
- [ ] 業務フロー分析
- [ ] 課題抽出
- [ ] 優先順位付け

### Week 2: 要件整理
- [ ] 機能要件一覧作成
- [ ] 非機能要件定義
- [ ] ユースケース図作成
- [ ] データフロー図作成

### Week 3: モックアップ作成
- [ ] 画面ワイヤーフレーム
- [ ] プロトタイプ作成
- [ ] ユーザーレビュー
- [ ] 要件定義書完成

### 成果物
- 要件定義書
- モックアップ
- ユースケース図
- 承認取得

### 並列作業（Worktree活用）
- `worktrees/requirements-document`: 要件定義書執筆
- `worktrees/mockup-design`: モックアップ作成
- `worktrees/data-analysis`: データフロー分析

---

## 🎨 Phase 2: 設計

**期間**: 4週間
**担当エージェント**: Plan Agent + Explore Agent

### Week 4-5: 基本設計
- [ ] システムアーキテクチャ設計
- [ ] データベース設計（localStorage構造）
- [ ] API設計（DeskNet's Neo連携）
- [ ] セキュリティ設計
- [ ] エラーハンドリング設計

### Week 6-7: 詳細設計
- [ ] 画面詳細設計（全12画面）
- [ ] コンポーネント設計
- [ ] 状態管理設計
- [ ] ルーティング設計
- [ ] テスト設計

### 成果物
- システム設計書
- データベース設計書
- API設計書
- 画面設計書
- テスト仕様書

### 並列作業（Worktree活用）
- `worktrees/system-design`: システム設計
- `worktrees/ui-design`: UI/UX設計
- `worktrees/api-design`: API設計
- `worktrees/security-design`: セキュリティ設計

---

## 💻 Phase 3: 開発

**期間**: 10週間（5スプリント × 2週間）
**担当エージェント**: 全エージェント活用

### Sprint 1 (Week 8-9): 基盤構築
**担当**: Bash Agent + General Agent

- [ ] プロジェクト初期化
- [ ] 認証システム実装
- [ ] 共通コンポーネント開発
  - [ ] ヘッダー/フッター
  - [ ] ナビゲーション
  - [ ] モーダル
  - [ ] テーブル
  - [ ] フォーム
- [ ] ユーティリティ関数
- [ ] localStorageマネージャー

**並列Worktree**:
- `worktrees/sprint1-auth`: 認証システム
- `worktrees/sprint1-components`: 共通コンポーネント
- `worktrees/sprint1-utils`: ユーティリティ

### Sprint 2 (Week 10-11): ダッシュボード
**担当**: General Agent + Simplifier Agent

- [ ] ダッシュボード画面実装
- [ ] 統計情報表示
- [ ] チャート実装（Canvas API）
- [ ] リアルタイム更新
- [ ] レスポンシブ対応

**並列Worktree**:
- `worktrees/sprint2-dashboard`: ダッシュボード
- `worktrees/sprint2-charts`: チャート機能
- `worktrees/sprint2-responsive`: レスポンシブ対応

### Sprint 3 (Week 12-13): ユーザー・アプリ管理
**担当**: General Agent + Explore Agent

- [ ] ユーザー管理CRUD
  - [ ] 一覧表示
  - [ ] 新規登録
  - [ ] 編集
  - [ ] 削除
  - [ ] 検索・フィルタ
- [ ] アプリ管理CRUD
  - [ ] 一覧表示
  - [ ] 登録
  - [ ] 編集
  - [ ] 削除
  - [ ] カテゴリ管理
- [ ] 権限管理

**並列Worktree**:
- `worktrees/sprint3-users`: ユーザー管理
- `worktrees/sprint3-apps`: アプリ管理
- `worktrees/sprint3-permissions`: 権限管理

### Sprint 4 (Week 14-15): インシデント・変更管理
**担当**: General Agent + Plan Agent

- [ ] インシデント管理
  - [ ] 登録
  - [ ] ステータス管理
  - [ ] 優先度設定
  - [ ] アサイン機能
  - [ ] コメント機能
- [ ] 変更管理
  - [ ] 変更要求登録
  - [ ] 承認フロー
  - [ ] 影響分析
  - [ ] スケジュール管理
- [ ] 通知機能

**並列Worktree**:
- `worktrees/sprint4-incidents`: インシデント管理
- `worktrees/sprint4-changes`: 変更管理
- `worktrees/sprint4-workflow`: ワークフロー

### Sprint 5 (Week 16-17): 監査・設定・最適化
**担当**: General Agent + Simplifier Agent + Code Review

- [ ] 監査ログ機能
  - [ ] ログ記録
  - [ ] 検索・フィルタ
  - [ ] エクスポート（CSV）
  - [ ] ログローテーション
- [ ] システム設定
  - [ ] API連携設定
  - [ ] セキュリティ設定
  - [ ] 通知設定
  - [ ] ワークフロー設定
- [ ] パフォーマンス最適化
- [ ] コードリファクタリング

**並列Worktree**:
- `worktrees/sprint5-audit`: 監査ログ
- `worktrees/sprint5-settings`: システム設定
- `worktrees/sprint5-optimization`: 最適化

### 成果物
- 完全動作するWebアプリケーション
- ソースコード
- コードドキュメント

---

## 🧪 Phase 4: テスト

**期間**: 3週間
**担当エージェント**: General Agent + Bash Agent

### Week 18: 単体・結合テスト
- [ ] 単体テスト実施
- [ ] 結合テスト実施
- [ ] バグ修正
- [ ] テストレポート作成

### Week 19: システムテスト
- [ ] 機能テスト
- [ ] パフォーマンステスト
- [ ] セキュリティテスト
- [ ] ブラウザ互換性テスト
- [ ] レスポンシブテスト

### Week 20: UAT（ユーザー受入テスト）
- [ ] UAT環境準備
- [ ] ユーザーテスト実施
- [ ] フィードバック収集
- [ ] 最終調整

### 成果物
- テストレポート
- バグ修正リスト
- UAT承認書

---

## 🚢 Phase 5: リリース

**期間**: 2週間
**担当エージェント**: Bash Agent + General Agent

### Week 21: 本番環境準備
- [ ] 本番環境構築
- [ ] データ移行準備
- [ ] バックアップ計画
- [ ] ロールバック計画

### Week 22: デプロイとトレーニング
- [ ] 本番デプロイ
- [ ] データ移行実施
- [ ] ユーザートレーニング
- [ ] ドキュメント最終化
- [ ] 運用開始

### Week 23-24: 運用サポート
- [ ] 初期運用サポート
- [ ] 問題対応
- [ ] パフォーマンス監視
- [ ] フィードバック収集

### Week 25-26: 振り返りと改善
- [ ] プロジェクト振り返り
- [ ] 改善提案
- [ ] ドキュメント整備
- [ ] 知識移転

### 成果物
- 本番稼働システム
- 運用マニュアル
- ユーザーガイド
- プロジェクト完了報告書

---

## 📊 マイルストーン

| Phase | 期間 | 開始週 | 完了週 | ステータス |
|-------|------|--------|--------|-----------|
| Phase 0-Extended | 2週間 | - | - | ✅ 完了 |
| Phase 1 | 3週間 | Week 1 | Week 3 | 🔜 次 |
| Phase 2 | 4週間 | Week 4 | Week 7 | ⏳ 待機 |
| Phase 3 | 10週間 | Week 8 | Week 17 | ⏳ 待機 |
| Phase 4 | 3週間 | Week 18 | Week 20 | ⏳ 待機 |
| Phase 5 | 4週間 | Week 21 | Week 24 | ⏳ 待機 |
| 運用サポート | 2週間 | Week 25 | Week 26 | ⏳ 待機 |

**全体進捗**: Phase 0-Extended完了（17%）

---

## 🔧 開発支援ツール活用計画

### SubAgent活用
- **Bash Agent**: Git操作、デプロイ、スクリプト実行
- **General Agent**: 複雑な実装、調査、問題解決
- **Explore Agent**: コードベース探索、リファクタリング対象発見
- **Plan Agent**: 実装計画立案、アーキテクチャ設計
- **Guide Agent**: 技術調査、ドキュメント参照
- **Simplifier Agent**: コードリファクタリング、品質向上
- **Statusline Agent**: 開発環境カスタマイズ

### Hooks活用
- **SessionStart**: 開発開始時の環境チェック
- **UserPromptSubmit**: コンフリクト自動検出
- **ToolCall**: 重要ファイルの自動バックアップ

### Git Worktree活用
- 各機能を独立したWorktreeで並列開発
- コンフリクトリスク最小化
- 複数エージェントによる同時作業

### MCP活用
- **GitHub MCP**: PR管理、Issue管理
- **Brave Search**: 技術調査
- **Context7**: ライブラリドキュメント参照
- **Playwright**: E2Eテスト自動化
- **Memory**: セッション間の情報共有

---

## 📈 リスク管理

### 主要リスク

| リスク | 影響度 | 対策 |
|--------|--------|------|
| 要件変更 | 高 | 段階的リリース、柔軟な設計 |
| 技術的課題 | 中 | プロトタイプ検証、技術調査 |
| スケジュール遅延 | 中 | バッファ確保、優先順位明確化 |
| リソース不足 | 低 | AI支援ツール最大活用 |

---

## 🎯 成功基準

### 技術的成功基準
- [ ] すべての機能要件を実装
- [ ] パフォーマンス目標達成（初期表示3秒以内）
- [ ] セキュリティ基準クリア
- [ ] ブラウザ互換性確保

### ビジネス成功基準
- [ ] ユーザー満足度80%以上
- [ ] 業務効率20%向上
- [ ] システム稼働率99%以上
- [ ] 予算内完了

---

## 📞 コミュニケーション計画

### 定例会議
- **週次レビュー**: 進捗確認、課題共有
- **スプリントレビュー**: デモ、フィードバック
- **振り返り**: 改善点抽出

### レポート
- **週次レポート**: 進捗、課題、次週予定
- **月次レポート**: マイルストーン達成状況
- **完了報告書**: プロジェクト総括

---

## 🚀 次のアクション

### 即座に実施
1. ✅ Phase 0-Extended完了確認
2. [ ] 環境テスト実施
3. [ ] systemdサービス起動テスト
4. [ ] Git Worktree動作確認

### Phase 1開始準備
1. [ ] ステークホルダーリスト作成
2. [ ] ヒアリング日程調整
3. [ ] 要件定義テンプレート準備
4. [ ] Worktree作成（requirements-document）

---

**承認**: _____________
**日付**: _____________
**プロジェクトマネージャー**: _____________
