# 要件定義書 (Requirements)

## ドキュメント情報

| 項目 | 値 |
|------|-----|
| プロジェクト名 | AppSuite ITSM管理システム |
| バージョン | 1.0.0 |
| 作成日 | 2026-01-29 |
| 作成者 | Spec Planner Agent |
| ステータス | Draft |

## 1. 機能要件

### 1.1 ダッシュボード (F-001)

| ID | 要件 | 優先度 | 受入基準 |
|----|------|--------|---------|
| F-001-01 | 統計カード表示 | 必須 | 6種類の統計情報が表示される |
| F-001-02 | グラフ表示 | 必須 | 5種類のグラフが描画される |
| F-001-03 | リアルタイム更新 | 推奨 | 30秒ごとに自動更新 |
| F-001-04 | クイックアクション | 推奨 | 頻用操作へのショートカット |

### 1.2 ユーザー管理 (F-002)

| ID | 要件 | 優先度 | 受入基準 |
|----|------|--------|---------|
| F-002-01 | ユーザー一覧表示 | 必須 | ページネーション付きで表示 |
| F-002-02 | ユーザー登録 | 必須 | 必須項目入力でユーザー作成 |
| F-002-03 | ユーザー編集 | 必須 | 既存ユーザー情報を更新 |
| F-002-04 | ユーザー削除 | 必須 | 確認後にユーザー削除 |
| F-002-05 | ユーザー検索 | 必須 | 名前・メールで検索可能 |
| F-002-06 | ロールフィルター | 推奨 | 管理者/ユーザーで絞り込み |

### 1.3 アプリ管理 (F-003)

| ID | 要件 | 優先度 | 受入基準 |
|----|------|--------|---------|
| F-003-01 | アプリ一覧表示 | 必須 | カテゴリ・ステータス付きで表示 |
| F-003-02 | アプリ登録 | 必須 | 必須項目入力でアプリ作成 |
| F-003-03 | アプリ編集 | 必須 | 既存アプリ情報を更新 |
| F-003-04 | アプリ削除 | 必須 | 確認後にアプリ削除 |
| F-003-05 | ステータス変更 | 必須 | 稼働/メンテ/停止を切り替え |
| F-003-06 | カテゴリフィルター | 推奨 | カテゴリで絞り込み |

### 1.4 インシデント管理 (F-004)

| ID | 要件 | 優先度 | 受入基準 |
|----|------|--------|---------|
| F-004-01 | インシデント一覧 | 必須 | 優先度・ステータス付きで表示 |
| F-004-02 | インシデント登録 | 必須 | タイトル・対象アプリ・優先度を指定 |
| F-004-03 | 担当者割当 | 必須 | アクティブユーザーから選択 |
| F-004-04 | ステータス遷移 | 必須 | オープン→対応中→解決済→クローズ |
| F-004-05 | 優先度フィルター | 必須 | 高/中/低で絞り込み |
| F-004-06 | ステータスフィルター | 必須 | 各ステータスで絞り込み |

### 1.5 変更管理 (F-005)

| ID | 要件 | 優先度 | 受入基準 |
|----|------|--------|---------|
| F-005-01 | 変更要求一覧 | 必須 | タイプ・ステータス付きで表示 |
| F-005-02 | 変更要求登録 | 必須 | タイトル・対象アプリ・タイプを指定 |
| F-005-03 | 承認ワークフロー | 必須 | 下書き→申請中→承認/却下 |
| F-005-04 | 実施予定日管理 | 推奨 | 変更実施日をスケジュール |
| F-005-05 | タイプフィルター | 推奨 | 機能追加/修正/バグ修正で絞り込み |

### 1.6 監査ログ (F-006)

| ID | 要件 | 優先度 | 受入基準 |
|----|------|--------|---------|
| F-006-01 | ログ一覧表示 | 必須 | タイムスタンプ・ユーザー・操作を表示 |
| F-006-02 | ログ自動記録 | 必須 | 全CRUD操作を自動記録 |
| F-006-03 | ログ検索 | 必須 | ユーザー・アクション・日付で検索 |
| F-006-04 | CSVエクスポート | 必須 | 選択範囲をCSV出力 |
| F-006-05 | 期間フィルター | 推奨 | 日付範囲で絞り込み |

### 1.7 システム設定 (F-007)

| ID | 要件 | 優先度 | 受入基準 |
|----|------|--------|---------|
| F-007-01 | API接続設定 | 必須 | DeskNet's Neo APIの設定・テスト |
| F-007-02 | 基本設定 | 必須 | システム名・組織名等の設定 |
| F-007-03 | 通知設定 | 推奨 | メール通知の設定 |
| F-007-04 | セキュリティ設定 | 必須 | パスワードポリシー・セッション設定 |
| F-007-05 | バックアップ | 必須 | データのエクスポート/インポート |

### 1.8 認証・セッション (F-008)

| ID | 要件 | 優先度 | 受入基準 |
|----|------|--------|---------|
| F-008-01 | ログイン | 必須 | ユーザー名・パスワードで認証 |
| F-008-02 | ログアウト | 必須 | セッション破棄 |
| F-008-03 | セッションタイムアウト | 必須 | 30分無操作で自動ログアウト |
| F-008-04 | パスワード検証 | 必須 | 強度チェック・ハッシュ保存 |
| F-008-05 | ロックアウト | 必須 | 5回失敗で15分ロック |

## 2. 非機能要件

### 2.1 性能要件

| ID | 要件 | 目標値 | 測定方法 |
|----|------|--------|---------|
| NF-001 | 初期表示時間 | 3秒以内 | ブラウザDevTools |
| NF-002 | 画面遷移時間 | 1秒以内 | ブラウザDevTools |
| NF-003 | 検索応答時間 | 500ms以内 | ブラウザDevTools |
| NF-004 | 最大同時ユーザー | 50人 | 負荷テスト |

### 2.2 信頼性要件

| ID | 要件 | 目標値 | 測定方法 |
|----|------|--------|---------|
| NF-005 | 可用性 | 99.5% | 稼働時間監視 |
| NF-006 | データ整合性 | 99.9% | 定期検証 |
| NF-007 | バックアップ成功率 | 100% | バックアップログ |

### 2.3 セキュリティ要件

| ID | 要件 | 対策 | 確認方法 |
|----|------|------|---------|
| NF-008 | XSS防止 | 入力エスケープ | セキュリティテスト |
| NF-009 | パスワード保護 | SHA-256ハッシュ | コードレビュー |
| NF-010 | セッション保護 | sessionStorage使用 | コードレビュー |
| NF-011 | 監査証跡 | 全操作ログ記録 | ログ確認 |

### 2.4 ユーザビリティ要件

| ID | 要件 | 目標 | 確認方法 |
|----|------|------|---------|
| NF-012 | レスポンシブ対応 | 3デバイスサイズ | 画面テスト |
| NF-013 | 操作学習時間 | 30分以内 | ユーザーテスト |
| NF-014 | エラーメッセージ | 日本語で明確に | UIレビュー |

### 2.5 保守性要件

| ID | 要件 | 目標 | 確認方法 |
|----|------|------|---------|
| NF-015 | モジュール分離 | 8モジュール以下 | コードレビュー |
| NF-016 | コメント率 | 20%以上 | 静的解析 |
| NF-017 | テストカバレッジ | 70%以上 | Jest |

## 3. 制約条件

### 3.1 技術的制約

| ID | 制約 | 理由 | 影響 |
|----|------|------|------|
| C-001 | localStorage使用 | サーバーレス運用 | 容量5-10MB制限 |
| C-002 | Vanilla JS | 軽量化・依存排除 | フレームワーク機能なし |
| C-003 | CDN依存 | 外部ライブラリ読込 | オフライン時に一部機能制限 |

### 3.2 運用制約

| ID | 制約 | 理由 | 対応策 |
|----|------|------|--------|
| C-004 | シングルブラウザ | localStorage | 定期エクスポート推奨 |
| C-005 | 同時編集なし | 楽観的ロックなし | 運用ルールで対応 |

## 4. 前提条件

1. 対象ブラウザ: Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
2. JavaScript有効化必須
3. localStorageアクセス許可必須
4. HTTPS推奨（本番環境）

## 5. トレーサビリティ

```
仕様概要書 (specs/overview.md)
    │
    ├─▶ 本要件定義書 (specs/requirements.md)
    │       │
    │       ├─▶ 機能仕様書 (docs/機能仕様書.md)
    │       ├─▶ API仕様書 (docs/API仕様書.md)
    │       └─▶ テスト仕様書 (docs/テスト仕様書.md)
    │
    └─▶ アーキテクチャ設計書 (design/architecture.md)
            │
            ├─▶ セキュリティ設計書 (design/security.md)
            └─▶ 画面設計書 (docs/画面設計書.md)
```

---

次工程: **arch-reviewer** による設計レビュー
