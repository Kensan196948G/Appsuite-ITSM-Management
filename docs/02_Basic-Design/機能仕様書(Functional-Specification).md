# AppSuite管理運用システム 機能仕様書

**文書番号**: FNC-APPSUITE-001
**バージョン**: 1.0
**作成日**: 2026年1月20日

---

## 1. 概要

本文書は、AppSuite管理運用システムの各機能について、詳細な仕様を定義する。

---

## 2. ダッシュボード機能

### 2.1 機能概要
システム全体の状況を一目で把握するための統計情報表示画面。

### 2.2 統計カード

#### 2.2.1 総ユーザー数
```javascript
// 計算ロジック
totalUsers = users.length
```

#### 2.2.2 有効ユーザー数
```javascript
// 計算ロジック
activeUsers = users.filter(u => u.status === 'active').length
```

#### 2.2.3 アプリ数
```javascript
// 計算ロジック
totalApps = apps.length
```

#### 2.2.4 稼働中アプリ数
```javascript
// 計算ロジック
activeApps = apps.filter(a => a.status === 'active').length
```

#### 2.2.5 未解決インシデント数
```javascript
// 計算ロジック
openIncidents = incidents.filter(i => i.status !== 'closed').length
```

#### 2.2.6 保留中の変更数
```javascript
// 計算ロジック
pendingChanges = changes.filter(c => c.status === 'pending').length
```

### 2.3 最近の操作ログパネル
- 表示件数: 最新10件
- 表示項目: 日時、ユーザー名、操作内容
- 更新タイミング: 画面表示時、手動更新時

### 2.4 アプリ一覧パネル
- 表示件数: 最新5件
- 表示項目: アプリ名、レコード数、ステータス
- ソート: 最終更新日の降順

---

## 3. ユーザー管理機能

### 3.1 機能一覧

| 機能ID | 機能名 | 説明 |
|--------|--------|------|
| USER-F01 | 一覧表示 | ユーザーをテーブル形式で表示 |
| USER-F02 | 検索 | ユーザー名・メールで部分一致検索 |
| USER-F03 | フィルタ | ステータス・権限でフィルタリング |
| USER-F04 | 新規登録 | ユーザーの新規作成 |
| USER-F05 | 編集 | 既存ユーザーの編集 |
| USER-F06 | 削除 | ユーザーの削除 |
| USER-F07 | ページング | ページネーション |
| USER-F08 | 更新 | データの再読み込み |

### 3.2 一覧表示仕様

#### 3.2.1 表示項目

| No. | 項目名 | 幅 | ソート |
|-----|--------|:--:|:------:|
| 1 | ID | 60px | × |
| 2 | ユーザー名 | auto | × |
| 3 | メールアドレス | auto | × |
| 4 | 部署 | 120px | × |
| 5 | 権限 | 100px | × |
| 6 | ステータス | 100px | × |
| 7 | 最終ログイン | 150px | × |
| 8 | 操作 | 100px | × |

#### 3.2.2 ステータス表示

| ステータス値 | 表示名 | バッジクラス |
|-------------|--------|-------------|
| active | 有効 | badge-success |
| inactive | 無効 | badge-secondary |

#### 3.2.3 権限表示

| 権限値 | 表示名 | バッジクラス |
|--------|--------|-------------|
| 管理者 | 管理者 | badge-primary |
| ユーザー | ユーザー | badge-info |

### 3.3 検索・フィルタ仕様

#### 3.3.1 検索条件
- 検索対象: ユーザー名、メールアドレス
- 検索方式: 部分一致（大文字小文字区別なし）

```javascript
// 検索ロジック
filteredUsers = users.filter(user =>
    user.username.toLowerCase().includes(keyword.toLowerCase()) ||
    user.email.toLowerCase().includes(keyword.toLowerCase())
);
```

#### 3.3.2 フィルタ条件
- ステータスフィルタ: すべて / 有効 / 無効
- 権限フィルタ: すべて / 管理者 / ユーザー

```javascript
// フィルタロジック
if (statusFilter) {
    filteredUsers = filteredUsers.filter(u => u.status === statusFilter);
}
if (roleFilter) {
    filteredUsers = filteredUsers.filter(u => u.role === roleFilter);
}
```

### 3.4 CRUD操作仕様

#### 3.4.1 新規登録

**入力項目**

| 項目 | 必須 | 入力形式 | バリデーション |
|------|:----:|----------|---------------|
| ユーザー名 | ○ | テキスト | 1-50文字 |
| メールアドレス | ○ | メール | メール形式 |
| 部署 | - | テキスト | 0-50文字 |
| 権限 | ○ | セレクト | 管理者/ユーザー |
| ステータス | ○ | セレクト | 有効/無効 |

**処理フロー**
1. モーダル表示
2. 入力値検証
3. ID自動採番（U + 連番4桁）
4. データ保存
5. ログ記録
6. 一覧更新
7. 成功メッセージ表示

#### 3.4.2 編集

**処理フロー**
1. 対象データ取得
2. モーダル表示（既存値セット）
3. 入力値検証
4. データ更新
5. ログ記録
6. 一覧更新
7. 成功メッセージ表示

#### 3.4.3 削除

**処理フロー**
1. 確認ダイアログ表示
2. 確認後、データ削除
3. ログ記録
4. 一覧更新
5. 成功メッセージ表示

---

## 4. アプリ管理機能

### 4.1 機能一覧

| 機能ID | 機能名 | 説明 |
|--------|--------|------|
| APP-F01 | 一覧表示 | アプリをテーブル形式で表示 |
| APP-F02 | 検索 | アプリ名で部分一致検索 |
| APP-F03 | カテゴリフィルタ | カテゴリでフィルタリング |
| APP-F04 | ステータスフィルタ | 稼働状況でフィルタリング |
| APP-F05 | 新規登録 | アプリの新規作成 |
| APP-F06 | 編集 | 既存アプリの編集 |
| APP-F07 | 削除 | アプリの削除 |
| APP-F08 | 更新 | データの再読み込み |

### 4.2 一覧表示仕様

#### 4.2.1 表示項目

| No. | 項目名 | 幅 | 説明 |
|-----|--------|:--:|------|
| 1 | ID | 60px | アプリID |
| 2 | アプリ名 | auto | アプリケーション名 |
| 3 | カテゴリ | 120px | 分類カテゴリ |
| 4 | 作成者 | 120px | アプリ作成者 |
| 5 | レコード数 | 100px | 登録レコード数 |
| 6 | ステータス | 120px | 稼働状況 |
| 7 | 最終更新 | 150px | 最終更新日時 |
| 8 | 操作 | 100px | 操作ボタン |

#### 4.2.2 カテゴリ一覧

| カテゴリ値 | 表示名 |
|-----------|--------|
| 業務管理 | 業務管理 |
| 申請・承認 | 申請・承認 |
| データ管理 | データ管理 |
| その他 | その他 |

#### 4.2.3 ステータス一覧

| ステータス値 | 表示名 | バッジクラス |
|-------------|--------|-------------|
| active | 稼働中 | badge-success |
| maintenance | メンテナンス | badge-warning |
| inactive | 停止中 | badge-secondary |

### 4.3 CRUD操作仕様

#### 4.3.1 新規登録

**入力項目**

| 項目 | 必須 | 入力形式 | バリデーション |
|------|:----:|----------|---------------|
| アプリ名 | ○ | テキスト | 1-100文字 |
| カテゴリ | ○ | セレクト | 定義値から選択 |
| 作成者 | ○ | テキスト | 1-50文字 |
| 説明 | - | テキストエリア | 0-500文字 |
| ステータス | ○ | セレクト | 稼働中/メンテナンス/停止中 |

---

## 5. インシデント管理機能

### 5.1 機能一覧

| 機能ID | 機能名 | 説明 |
|--------|--------|------|
| INC-F01 | 一覧表示 | インシデントをテーブル形式で表示 |
| INC-F02 | 検索 | タイトル・内容で検索 |
| INC-F03 | ステータスフィルタ | 対応状況でフィルタリング |
| INC-F04 | 優先度フィルタ | 優先度でフィルタリング |
| INC-F05 | 新規登録 | インシデントの新規作成 |
| INC-F06 | 編集 | インシデントの編集 |
| INC-F07 | ステータス更新 | 対応状況の更新 |
| INC-F08 | 担当者割当 | 担当者のアサイン |

### 5.2 一覧表示仕様

#### 5.2.1 表示項目

| No. | 項目名 | 幅 | 説明 |
|-----|--------|:--:|------|
| 1 | ID | 80px | インシデントID |
| 2 | タイトル | auto | インシデント件名 |
| 3 | 対象アプリ | 120px | 関連アプリ名 |
| 4 | 優先度 | 80px | 高/中/低 |
| 5 | ステータス | 100px | 対応状況 |
| 6 | 報告者 | 100px | 報告したユーザー |
| 7 | 担当者 | 100px | 対応担当者 |
| 8 | 報告日 | 150px | 報告日時 |
| 9 | 操作 | 100px | 操作ボタン |

#### 5.2.2 優先度一覧

| 優先度値 | 表示名 | バッジクラス | 対応期限目安 |
|---------|--------|-------------|-------------|
| high | 高 | badge-danger | 4時間以内 |
| medium | 中 | badge-warning | 24時間以内 |
| low | 低 | badge-info | 72時間以内 |

#### 5.2.3 ステータス一覧

| ステータス値 | 表示名 | バッジクラス | 説明 |
|-------------|--------|-------------|------|
| open | オープン | badge-danger | 新規登録状態 |
| in_progress | 対応中 | badge-warning | 対応作業中 |
| resolved | 解決済み | badge-info | 解決完了待ち確認 |
| closed | クローズ | badge-success | 完了 |

### 5.3 CRUD操作仕様

#### 5.3.1 新規登録

**入力項目**

| 項目 | 必須 | 入力形式 | バリデーション |
|------|:----:|----------|---------------|
| タイトル | ○ | テキスト | 1-100文字 |
| 対象アプリ | ○ | セレクト | 登録アプリから選択 |
| 優先度 | ○ | セレクト | 高/中/低 |
| 報告者 | ○ | テキスト | 1-50文字 |
| 担当者 | - | セレクト | 登録ユーザーから選択 |
| 説明 | ○ | テキストエリア | 1-2000文字 |

#### 5.3.2 ステータス更新ルール

```
オープン → 対応中 → 解決済み → クローズ
    ↑______________|
```

| 現在ステータス | 遷移可能先 |
|---------------|-----------|
| オープン | 対応中, クローズ |
| 対応中 | 解決済み, オープン（差し戻し） |
| 解決済み | クローズ, 対応中（再オープン） |
| クローズ | 対応中（再オープン） |

---

## 6. 変更管理機能

### 6.1 機能一覧

| 機能ID | 機能名 | 説明 |
|--------|--------|------|
| CHG-F01 | 一覧表示 | 変更要求をテーブル形式で表示 |
| CHG-F02 | 検索 | タイトル・内容で検索 |
| CHG-F03 | タイプフィルタ | 変更タイプでフィルタリング |
| CHG-F04 | ステータスフィルタ | 承認状況でフィルタリング |
| CHG-F05 | 新規登録 | 変更要求の新規作成 |
| CHG-F06 | 編集 | 変更要求の編集 |
| CHG-F07 | 承認処理 | 承認/却下の処理 |
| CHG-F08 | 実施記録 | 変更実施の記録 |

### 6.2 一覧表示仕様

#### 6.2.1 表示項目

| No. | 項目名 | 幅 | 説明 |
|-----|--------|:--:|------|
| 1 | ID | 80px | 変更要求ID |
| 2 | タイトル | auto | 変更要求件名 |
| 3 | 対象アプリ | 120px | 関連アプリ名 |
| 4 | タイプ | 100px | 変更種別 |
| 5 | ステータス | 100px | 承認状況 |
| 6 | 申請者 | 100px | 申請ユーザー |
| 7 | 予定日 | 120px | 実施予定日 |
| 8 | 操作 | 100px | 操作ボタン |

#### 6.2.2 タイプ一覧

| タイプ値 | 表示名 | 説明 |
|---------|--------|------|
| feature | 機能追加 | 新規機能の追加 |
| modification | 機能変更 | 既存機能の変更 |
| bugfix | バグ修正 | 不具合の修正 |
| improvement | 改善 | パフォーマンス等の改善 |

#### 6.2.3 ステータス一覧

| ステータス値 | 表示名 | バッジクラス | 説明 |
|-------------|--------|-------------|------|
| draft | 下書き | badge-secondary | 作成中 |
| pending | 承認待ち | badge-warning | 承認待ち状態 |
| approved | 承認済み | badge-info | 承認完了、実施待ち |
| in_progress | 実装中 | badge-primary | 変更作業中 |
| completed | 完了 | badge-success | 変更完了 |
| rejected | 却下 | badge-danger | 承認却下 |

### 6.3 承認フロー

```
┌─────────┐    申請    ┌─────────┐   承認    ┌─────────┐
│  下書き  │ ────────► │承認待ち │ ────────►│承認済み │
└─────────┘           └─────────┘          └─────────┘
                           │                    │
                           │ 却下                │ 実施開始
                           ▼                    ▼
                      ┌─────────┐         ┌─────────┐
                      │  却下   │         │ 実装中  │
                      └─────────┘         └─────────┘
                                               │
                                               │ 完了
                                               ▼
                                          ┌─────────┐
                                          │  完了   │
                                          └─────────┘
```

---

## 7. 監査ログ機能

### 7.1 機能一覧

| 機能ID | 機能名 | 説明 |
|--------|--------|------|
| LOG-F01 | 一覧表示 | ログをテーブル形式で表示 |
| LOG-F02 | 日付検索 | 期間指定での検索 |
| LOG-F03 | タイプフィルタ | 操作タイプでフィルタリング |
| LOG-F04 | 対象フィルタ | 操作対象でフィルタリング |
| LOG-F05 | エクスポート | CSV形式でエクスポート |
| LOG-F06 | ページング | ページネーション |

### 7.2 一覧表示仕様

#### 7.2.1 表示項目

| No. | 項目名 | 幅 | 説明 |
|-----|--------|:--:|------|
| 1 | 日時 | 180px | 操作日時 |
| 2 | ユーザー | 120px | 操作ユーザー名 |
| 3 | 操作タイプ | 100px | 操作種別 |
| 4 | 対象 | 100px | 操作対象 |
| 5 | 詳細 | auto | 操作詳細 |
| 6 | IPアドレス | 140px | クライアントIP |

#### 7.2.2 操作タイプ一覧

| タイプ値 | 表示名 | 説明 |
|---------|--------|------|
| login | ログイン | システムへのログイン |
| logout | ログアウト | システムからのログアウト |
| create | 作成 | データの新規作成 |
| update | 更新 | データの更新 |
| delete | 削除 | データの削除 |
| export | エクスポート | データのエクスポート |

#### 7.2.3 対象一覧

| 対象値 | 表示名 | 説明 |
|--------|--------|------|
| user | ユーザー | ユーザーデータ |
| app | アプリ | アプリデータ |
| incident | インシデント | インシデントデータ |
| change | 変更要求 | 変更要求データ |
| system | システム | システム設定 |

### 7.3 検索仕様

#### 7.3.1 日付範囲検索
```javascript
// 検索ロジック
filteredLogs = logs.filter(log => {
    const logDate = new Date(log.timestamp);
    return logDate >= fromDate && logDate <= toDate;
});
```

### 7.4 エクスポート仕様

#### 7.4.1 出力形式
- ファイル形式: CSV（UTF-8 BOM付き）
- ファイル名: `audit_log_YYYYMMDD_HHMMSS.csv`

#### 7.4.2 出力項目
```csv
日時,ユーザー,操作タイプ,対象,詳細,IPアドレス
2026-01-20 10:30:00,admin,create,user,ユーザー作成: user001,192.168.1.1
```

---

## 8. システム設定機能

### 8.1 設定タブ一覧

| タブID | タブ名 | 説明 |
|--------|--------|------|
| api | API接続 | DeskNet's Neo API設定 |
| general | 基本設定 | システム基本設定 |
| notification | 通知設定 | メール通知設定 |
| security | セキュリティ | セキュリティ設定 |
| workflow | ワークフロー | 業務フロー設定 |
| backup | バックアップ | バックアップ・リストア |

### 8.2 API接続設定

#### 8.2.1 設定項目

| 項目 | 入力形式 | 説明 |
|------|----------|------|
| API URL | URL | エンドポイントURL |
| APIキー/トークン | パスワード | 認証情報 |
| 認証方式 | セレクト | Bearer/Basic/APIキー |
| タイムアウト | 数値 | 秒単位（5-120） |
| 自動同期間隔 | セレクト | 無効/5分/15分/30分/1時間 |

#### 8.2.2 接続テスト
```javascript
// テストロジック
async function testApiConnection() {
    try {
        const response = await fetch(apiUrl, {
            method: 'GET',
            headers: getAuthHeaders()
        });
        return response.ok;
    } catch (error) {
        return false;
    }
}
```

### 8.3 基本設定

#### 8.3.1 システム情報
- システム名
- 組織名
- 管理者メールアドレス

#### 8.3.2 表示設定
- テーマ（ライト/ダーク/システム）
- 言語（日本語/English）
- 日付形式
- 1ページあたりの表示件数

### 8.4 通知設定

#### 8.4.1 通知トリガー
- 新規インシデント登録時
- 高優先度インシデント発生時
- 変更要求の承認依頼時
- 変更完了時

#### 8.4.2 SMTP設定
- SMTPホスト
- SMTPポート
- SMTPユーザー名
- SMTPパスワード
- SSL/TLS使用

### 8.5 セキュリティ設定

#### 8.5.1 パスワードポリシー
- 最小文字数（6-32）
- 大文字必須
- 数字必須
- 特殊文字必須
- 有効期限（日数）

#### 8.5.2 セッション設定
- セッションタイムアウト（分）
- 最大同時ログイン数
- 二要素認証

#### 8.5.3 ログイン制限
- 失敗許容回数
- アカウントロック時間

### 8.6 ワークフロー設定

#### 8.6.1 インシデント管理
- 自動割当
- デフォルト担当者
- エスカレーション期限

#### 8.6.2 変更管理
- 承認必須
- 承認者
- リードタイム

#### 8.6.3 ステータス遷移
- ステータススキップ許可
- コメント必須

### 8.7 バックアップ設定

#### 8.7.1 自動バックアップ
- 有効/無効
- 間隔（毎日/毎週/毎月）
- 保持世代数

#### 8.7.2 手動操作
- バックアップ作成
- リストア実行
- データエクスポート
- データ初期化

---

## 9. 共通機能

### 9.1 モーダルダイアログ

#### 9.1.1 構成
- ヘッダー（タイトル、閉じるボタン）
- ボディ（入力フォーム）
- フッター（アクションボタン）

#### 9.1.2 操作
- ESCキーで閉じる
- オーバーレイクリックで閉じる

### 9.2 トースト通知

#### 9.2.1 種類
| 種類 | クラス | 用途 |
|------|--------|------|
| 成功 | success | 操作成功時 |
| エラー | error | エラー発生時 |
| 警告 | warning | 警告表示時 |
| 情報 | info | 情報通知時 |

#### 9.2.2 表示
- 表示位置: 右上
- 自動消去: 3秒後
- 複数表示: スタック表示

### 9.3 ページネーション

#### 9.3.1 仕様
- 1ページあたり件数: 設定値（デフォルト25件）
- ページ番号表示: 最大5ページ分
- 前後ボタン表示

### 9.4 レスポンシブ対応

| ブレークポイント | 対応 |
|-----------------|------|
| 1024px以下 | サイドバー折りたたみ |
| 768px以下 | テーブル縮小、ツールバー縦配置 |
| 480px以下 | 統計カード1列表示 |

---

**文書履歴**

| バージョン | 日付 | 変更内容 | 作成者 |
|-----------|------|----------|--------|
| 1.0 | 2026-01-20 | 初版作成 | - |
